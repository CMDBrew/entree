---
layout: application
module: posts
---

{%- assign paginator = page.paginator -%}

{%- capture _content -%}
  {%- assign _pinned_posts = paginator.posts | where: 'pinned', true -%}

  {%- if _pinned_posts.size > 0 -%}
    <div class="section section-pinned">
      <h2 class="section-title">{{ site.data.locales.layouts.index.pinned | default: 'Pinned' | replace: '@title', site.data.locales[page.module].title  }}</h2>
      <div class="section-body posts">
        {%- for post in _pinned_posts -%}
          {%- include posts/pinned.html post=post -%}
        {%- endfor -%}
      </div>
    </div>
  {%- endif -%}

  <div class="section section-collection">
    <h2 class="section-title">{{ site.data.locales.layouts.index.all | default: 'All' | replace: '@title', site.data.locales[page.module].title  }}</h2>
    <div class="section-body posts">
      {%- for post in paginator.posts -%}
        {%- include posts/post.html post=post -%}
      {%- endfor -%}
    </div>
  </div>
  {%- include pagination.html path=page.dir -%}
{%- endcapture -%}

{%- capture _aside -%}
  {%- include posts/aside.html translations=site.data.locales.posts -%}
{%- endcapture -%}

{%- include layouts/index.html content=_content aside=_aside translations=site.data.locales.posts -%}
