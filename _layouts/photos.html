---
layout: application
module: photos
---

{%- assign paginator = page.paginator -%}

{%- capture _content -%}
  {%- assign _pinned_photos = page.paginator.posts | where: 'pinned', true -%}

  {%- if _pinned_photos.size > 0 -%}
    <div class="section section-pinned">
      <h2 class="section-title">{{ site.data.locales.layouts.index.pinned | default: 'Pinned' | replace: '@title', site.data.locales[page.module].title  }}</h2>
      <div class="section-body photos">
        {%- for photo in _pinned_photos -%}
          {%- include photos/pinned.html photo=photo -%}
        {%- endfor -%}
      </div>
    </div>
  {%- endif -%}

  <div class="section section-collection">
    <h2 class="section-title">{{ site.data.locales.layouts.index.all | default: 'All' | replace: '@title', site.data.locales[page.module].title  }}</h2>
    <div class="section-body photos">
      {%- for photo in paginator.posts -%}
        {%- include photos/photo.html photo=photo -%}
      {%- endfor -%}
    </div>
  </div>

  {%- include pagination.html path=page.dir -%}
{%- endcapture -%}

{%- capture _aside -%}
  {%- include photos/aside.html translations=site.data.locales.photos -%}
{%- endcapture -%}

{%- include layouts/index.html content=_content aside=_aside translations=site.data.locales.photos -%}
