{% assign cta = site.data.aside.general.call_to_action %}
{% assign links = site.data.aside.actions.groups %}

{% if cta %}
  <div class="hidden-collapse mb-3">
    {%- capture target -%}
      {%- if action.open_new_tab -%}
        {{ "_blank" }}
      {%- else -%}
        {{ "_self" }}
      {%- endif -%}
    {%- endcapture -%}
    <a class="btn btn-primary btn-block btn-lg" rel="noopener" href="{{ cta.url }}" target="{{ target }}" title="{{ cta.name | escape }}">{{ cta.name }}</a>
  </div>
{% endif %}

{% for group in links %}
  <div class="card mb-3 overflow-hidden">
    <h5 class="card-header">{{ group.name }}</h5>
    <div class="list-group list-group-flush">
      {% for action in group.actions %}
        {%- capture target -%}
          {%- if action.open_new_tab -%}
            {{ "_blank" }}
          {%- else -%}
            {{ "_self" }}
          {%- endif -%}
        {%- endcapture -%}

        <a href="{{ action.url }}" rel="noopener" target="{{ target }}" title="{{ action.name | escape }}" class="text-reset list-group-item list-group-item-action">
          <div class="row flex-nowrap">
            <div class="col text-wrap">{{ action.name }}</div>
            <div class="col-auto pl-0"><i class="fas fa-chevron-right small"></i></div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
{% endfor %}