{%- assign post =  include.post -%}
{%- assign date_format = site.jekyll_cmdbrew.date_format | defadivt: "%b %-d, %Y" -%}
{%- assign i18n = site.data.translations -%}

<li class="list-group-item px-0 bg-transparent py-4">
  {%- if include.pinned -%}
    <div class="container">
      <div class="text-primary small mb-2">
        <i class="fas fa-thumbtack mr-2"></i>
        {{- i18n.posts.post.pinned -}}
      </div>
    </div>
  {%- endif -%}

  <a class="post text-reset text-decoration-none" href="{{ post.url | relative_url }}">
    <div class="container">
      <div class="media">
        <div class="media-body">
          <h5>{{ post.title | escape }}</h5>

          {%- if site.show_excerpts -%}
            <p>{{ post.excerpt | strip_html | strip_newlines | truncate: 100 }}</p>
          {%- endif -%}

          <p class="post-meta text-secondary small mb-0">
            {%- if post.author.size > 0 -%}
              {{ i18n.posts.post.by | default: 'By' }} <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{{ post.author | escape }}</span></span>
            {%- endif -%}
            {%- if post.categories.size > 0 -%}
              &nbsp;{{ i18n.posts.post.via | default: 'via' }}&nbsp;
              {%- assign cats = post.categories | join: ', ' -%}
              {{ cats }}
            {%- endif -%}
            <time class="d-block dt-published" datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">
              {%- assign date_format = site.jekyll_cmdbrew.date_format | default: "%b %-d, %Y" -%}
              {{ post.date | date: date_format }}
            </time>
          </p>
        </div>

        {%- if post.banner.size > 0 -%}
          <div class="post-img ml-3 rounded" style="background-image: url('{{ post.banner | relative_url }}?nf_resize=fit&w=256&h=256')"></div>
        {%- endif -%}
      </div>
    </div>
  </a>
</li>